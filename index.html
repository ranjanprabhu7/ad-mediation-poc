<!DOCTYPE html>
<html>
  <head>
    <title>VAST Ad Test</title>
    <meta charset="UTF-8" />
    <link
      href="https://unpkg.com/video.js/dist/video-js.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        margin: 0;
        padding: 20px;
        font-family: sans-serif;
      }
      .video-js {
        width: 640px;
        height: 360px;
      }
    </style>
  </head>
  <body>
    <h2>ðŸŽ¥ VAST Ad Player</h2>
    <video
      id="videoPlayer"
      class="video-js vjs-default-skin"
      controls
      muted
      playsinline
      preload="auto"
    >
      <source
        src="https://storage.googleapis.com/interactive-media-ads/media/big_buck_bunny.mp4"
        type="video/mp4"
      />
    </video>

    <script src="https://unpkg.com/video.js/dist/video.min.js"></script>
    <script src="https://imasdk.googleapis.com/js/sdkloader/ima3.js"></script>
    <script src="https://unpkg.com/videojs-contrib-ads@6.8.0/dist/videojs-contrib-ads.min.js"></script>
    <script src="https://unpkg.com/videojs-ima@1.9.1/dist/videojs.ima.min.js"></script>

    <script>
      const player = videojs("videoPlayer");

      player.ready(function () {
        player.ima({
          adTagUrl:
            "https://pubads.g.doubleclick.net/gampad/ads?" +
            "iu=/21775744923/external/single_ad_samples&" +
            "sz=640x480&" +
            "cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&" +
            "gdfp_req=1&" +
            "output=vast&" +
            "unviewed_position_start=1&" +
            "env=vp&" +
            "impl=s&" +
            "correlator=" +
            Date.now()
        });

        player.ima.initializeAdDisplayContainer();
        player.ima.requestAds();
        player.play();
      });
    </script>
  </body>
</html>
