<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>VAST Ad Player</title>

    <!-- âœ… Video.js -->
    <link href="https://vjs.zencdn.net/7.20.3/video-js.css" rel="stylesheet" />
    <script src="https://vjs.zencdn.net/7.20.3/video.min.js"></script>

    <!-- âœ… IMA SDK & Videojs IMA Plugin -->
    <script src="https://imasdk.googleapis.com/js/sdkloader/ima3.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/videojs-contrib-ads@6.8.0/dist/videojs-contrib-ads.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/videojs-ima@1.10.1/dist/videojs.ima.min.js"></script>

    <style>
      body {
        margin: 0;
        background: #000;
        color: white;
        font-family: sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 2rem;
      }
      .video-js {
        width: 640px;
        height: 360px;
      }
    </style>
  </head>
  <body>
    <h2>ðŸŽ¬ VAST Ad Video Demo</h2>
    <video id="content_video" class="video-js vjs-default-skin" controls preload="auto">
      <source src="https://storage.googleapis.com/interactive-media-ads/media/big_buck_bunny/big_buck_bunny_trailer.m3u8" type="application/x-mpegURL" />
    </video>

    <script>
      const player = videojs('content_video');

      player.ima({
        id: 'content_video',
        adTagUrl:
          'https://pubads.g.doubleclick.net/gampad/ads?' +
          'iu=/21775744923/external/single_ad_samples&' +
          'sz=640x480&' +
          'cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&' +
          'gdfp_req=1&' +
          'output=vast&' +
          'unviewed_position_start=1&' +
          'env=vp&' +
          'impl=s&' +
          'correlator=' +
          Date.now(),
      });

      player.ima.initializeAdDisplayContainer();
      player.ima.requestAds();
      player.play();
    </script>
  </body>
</html>
